<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æç®€ç³»ç»Ÿç›‘æ§</title>
    <style>
        body { font-family: "Microsoft YaHei"; padding: 30px; }
        .status-item {
            margin: 15px 0;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 16px;
        }
        button {
            padding: 10px 20px;
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover { background: #3367d6; }
        .title { color: #2d3748; font-size: 24px; margin-bottom: 20px; }
    </style>
</head>
<body>
<div class="title">ç³»ç»Ÿå®æ—¶çŠ¶æ€ï¼ˆç‚¹å‡»æŒ‰é’®åˆ·æ–°ï¼‰</div>
<button onclick="fetchSystemStatus()">ğŸ”„ æ‰‹åŠ¨åˆ·æ–°çŠ¶æ€</button>

<div class="status-container">
    <div class="status-item">CPUä½¿ç”¨ç‡ï¼š<span id="cpuUsage">åŠ è½½ä¸­...</span></div>
    <div class="status-item">JVMå†…å­˜ï¼š<span id="jvmUsed">åŠ è½½ä¸­...</span> / <span id="jvmMax">åŠ è½½ä¸­...</span></div>
    <div class="status-item">ç£ç›˜ä½¿ç”¨ï¼š<span id="disk">åŠ è½½ä¸­...</span></div>
    <div class="status-item">ç½‘ç»œæµé‡ï¼šå…¥ <span id="netIn">åŠ è½½ä¸­...</span> / å‡º <span id="netOut">åŠ è½½ä¸­...</span></div>
</div>

<script>
    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è·å–ä¸€æ¬¡çŠ¶æ€
    window.onload = fetchSystemStatus;

    /**
     * è°ƒç”¨åç«¯æ¥å£è·å–å®æ—¶çŠ¶æ€
     */
    function fetchSystemStatus() {
        // æ³¨æ„ï¼šä½ çš„é¡¹ç›®æœ‰context-path:/apiï¼Œæ‰€ä»¥æ¥å£è·¯å¾„è¦åŠ /apiå‰ç¼€
        const apiUrl = 'localhost:8123/api/system/realtime';

        fetch(apiUrl)
            .then(response => {
                if (!response.ok) throw new Error('æ¥å£è¯·æ±‚å¤±è´¥');
                return response.json();
            })
            .then(data => {
                // æ›´æ–°é¡µé¢æ•°æ®
                document.getElementById('cpuUsage').textContent = data.cpuUsage;
                document.getElementById('jvmUsed').textContent = data.jvmUsed;
                document.getElementById('jvmMax').textContent = data.jvmMax;
                document.getElementById('disk').textContent = data.disk;
                document.getElementById('netIn').textContent = data.netIn;
                document.getElementById('netOut').textContent = data.netOut;
            })
            .catch(error => {
                console.error('è·å–çŠ¶æ€å¤±è´¥ï¼š', error);
                alert('è·å–ç³»ç»ŸçŠ¶æ€å¤±è´¥ï¼Œè¯·æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨ï¼');
            });
    }
</script>
</body>
</html>